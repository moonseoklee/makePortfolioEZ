<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    home!
    <div th:if="${session.currentUser ne null}">
        <h3>이 부분은 로그인한 사용자한테만 보임</h3>
        <pre th:text="${session.currentUser}"></pre>
        <a href="/naver/invalidate">로그아웃 (Invalidate Session)</a>
        <a th:href="${'/naver/getProfile?accessToken=' + session.currentAT}">Get User's Profile</a>
    </div>


                    <table width="100%" border="0" cellpadding="0" cellspacing="0">

                        <tr th:each="skill : ${skills}">
                            <td th:text="${skill}" align="left">

                            </td>
                            <td>
                                <form action="#" th:action="@{'/delete/{skill}'(skill=${skill})}" th:method="delete" >
                                    <input type="hidden" name="_method" value="delete" />
                                    <button type="submit" id="deleteBtn"> </button>
                                </form>

                            </td>
                        </tr>


                    </table>

    <div>

        <form action="#" th:action="@{'/update'}" th:method="POST" >
            <input type="text" name="skill" th:value="${skill}"  />
            <button type="submit" id="submitBtn">추가</button>
        </form>
    </div>
    <div>
        <form action="#" th:action="@{'/deleteAll'}" th:method="POST" >
            <button type="submit" id="deleteAllBtn">전체삭제</button>
        </form>
    </div>

    <script th:src="@{/js/addForm.js}"></script>
</body>
</html>